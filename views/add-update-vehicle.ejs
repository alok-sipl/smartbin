<div class="normalheader transition animated fadeIn">
<div class="hpanel">
<div class="panel-body">
<div class="row">
<div class="col-md-6">
<h2 class="font-light m-b-xs">
<%= (Object.keys(vehicle).length) ? 'Edit' : 'Add' %> Vehicle
</h2>
<div id="hbreadcrumb">
<ol class="hbreadcrumb breadcrumb">
<li><a href="<%= sails.config.base_url %>dashboard">Dashboard</a></li>
<li><a href="<%= sails.config.base_url %>vehicle">Vehicle List</a></li>
<li class="active">
<%= (Object.keys(vehicle).length) ? 'Edit' : 'Add' %> Vehicle</span>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="row">
<div class="col-md-8">
<div class="hpanel">
<div class="panel-body">
<% if(!(Object.keys(vehicle).length)){ %>
  <form action="<%= sails.config.base_url %>vehicle/add" method="post" enctype="multipart/form-data"
  id="add-vehicle" class='form-horizontal' data-parsley-validate='true'>
  <% }else{ %>
    <form action="<%= sails.config.base_url %>vehicle/edit/<%= req.params.id %>" method="post"
    enctype="multipart/form-data"
    id="add-vehicle" class='form-horizontal' data-parsley-validate='true'>
    <% } %>

    <% if (req.session.flash) { %>
      <%- req.flash('flashMessage') %>
      <% } %>
      <div class="form-group <%= (errors.name != undefined) ? " has-error" : "" %>">
      <label for="last_name" class="col-md-4 control-label">Name*</label>
      <div class="col-md-6">
      <input type="text" name="name" class="form-control" id="name" required
      value="<%= (vehicle.name) ? (vehicle.name) : (req.param('name')) ? req.param('name') : '' %>"
      maxlength="<%= sails.config.length.name %>"
      data-parsley-required-message="<%= Vehicle.message.name_required %>"
      data-parsley-maxlength-message="<%= Vehicle.message.name_maxlength %>"
      pattern="<%= sails.config.regex.name %>"
      data-parsley-pattern-message="<%= Vehicle.message.name_pattern %>"
      placeholder="Name"/>
      <span class="help-block">
      <strong><%= (errors.name != undefined) ? errors.name.message : '' %>
      </strong>
      </span>
      </div>
      </div>

      <div class="form-group <%= (errors.number != undefined) ? " has-error" : "" %>">
      <label for="contact_no" class="col-md-4 control-label">Vehicle Number*</label>
      <div class="col-md-6">
      <input type="text" name="number" class="form-control" id="number"
      value="<%= (vehicle.number) ? (vehicle.number) : (req.param('number')) ? req.param('number') : '' %>"
      required
      data-parsley-required-message="<%= Vehicle.message.number_required %>"
  placeholder="Mobile Number"/>
      <span class="help-block">
      <strong><%= (errors.number != undefined) ? errors.number.message : '' %>
      </strong>
      </span>
      </div>
      </div>          

      <div class="form-group <%= (errors.type != undefined) ? " has-error" : "" %>">
      <label for="is_active" class="col-md-4 control-label">Type</label>
      <div class="col-md-6">
      <div class="type">


      <select name="type"  id="type" class="form-control" required
      data-parsley-required-message="<%= Vehicle.message.type_required %>">
      <option value="">Select Type</option>
      <%
      if(Object.keys(types).length){
        for(var key in types) { %>
          <option <%= (vehicle.type && vehicle.type == key) ? "selected" : (req.param('type') && req.param('type') == key) ? "selected" : '' %>
          value="<%= key %>"><%= types[key].name %></option>
          <% }
        } %>
        </select>

        </div>
        <span class="help-block">
        <strong><%= (errors.type != undefined) ? errors.type.message : '' %>
        </strong>
        </span>
        </div>
        </div>

        <div class="form-group <%= (errors.assign_to != undefined) ? " has-error" : "" %>">
        <label for="is_active" class="col-md-4 control-label">Driver</label>
        <div class="col-md-6">
        <div class="assign_to">
        <select name="assign_to"  id="assign_to" class="form-control" required
        data-parsley-required-message="<%= Vehicle.message.assign_to_required %>">
        <option value="">Select Driver</option>
        <%
        if(drivers && drivers != null && Object.keys(drivers).length){
          for(var key in drivers) { %>
            <option <%= (vehicle.assign_to && vehicle.assign_to == key) ? "selected" : (req.param('assign_to') && req.param('assign_to') == key) ? "selected" : '' %>
            value="<%= key %>"><%= drivers[key].name %></option>
            <% }
          } %>
          </select>

          </div>
          <span class="help-block">
          <strong><%= (errors.assign_to != undefined) ? errors.assign_to.message : '' %>
          </strong>
          </span>
          </div>
          </div>

          <div class="form-group <%= (errors.account_number != undefined) ? " has-error" : "" %>">
          <div class="col-md-8 col-md-offset-4">
          <button type="submit" class="btn btn-primary">
          <%= (Object.keys(vehicle).length) ? 'Update' : 'Add' %> Vehicle
          </button>
          <a class="btn btn-primary" href="<%= sails.config.base_url %>vehicle">Cancel</a>
          </div>
          </div>
          </div>
          </form>
          </div>
          </div>
          </div>
          </div>
